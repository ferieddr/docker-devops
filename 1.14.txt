Backend:

FROM ubuntu:20.04
EXPOSE 8080
RUN apt-get update
RUN apt-get -y install curl
RUN curl -sL https://go.dev/dl/go1.16.15.linux-amd64.tar.gz --output go1.16.15.linux-amd64.tar.gz
RUN rm -rf /usr/local/go
RUN tar -C /usr/local -xzf go1.16.15.linux-amd64.tar.gz
ENV PATH=$PATH:/usr/local/go/bin
RUN go version
WORKDIR /usr/src/app
COPY . .
ENV REQUEST_ORIGIN=http://localhost:5000
RUN go build
CMD ./server


Frontend:

FROM ubuntu:20.04
EXPOSE 5000
WORKDIR /usr/src/app
COPY . .
RUN apt-get update
RUN apt-get -y install curl
RUN curl -sL https://deb.nodesource.com/setup_16.x | bash
RUN apt-get update
RUN apt install -y nodejs
RUN node -v && npm -v
RUN npm install
ENV PORT=5000
ENV REACT_APP_BACKEND_URL=http://localhost:8080/
RUN npm run build
RUN npm install -g serve
CMD ["serve", "-s", "-l", "5000", "build"]


Commands:

docker build example-frontend/ -t frontend
docker build example-backend/ -t backend

docker run -d -p 5000:5000 frontend
docker run -d -p 8080:8080 backend